<style>
  /* Minimal additions on top of Pico defaults */
  .filter-bar {
    margin-bottom: 1rem;
  }

  .badge {
    display: inline-block;
    padding: .25em .55em;
    font-size: .65em;
    background: var(--pico-primary, #0b6efd);
    color: #fff;
    border-radius: 1rem;
    line-height: 1;
  }

  .user-key {
    font-size: .6rem;
    opacity: .6;
    word-break: break-all;
    padding-top: .25em;
  }

  .pill {
    display: inline-block;
    padding: .25em .7em;
    background: var(--pico-muted-border-color, rgba(127, 127, 127, .15));
    border-radius: 1rem;
    font-size: .7em;
  }

  .danger {
    color: var(--pico-del-color, #d9534f);
    border-color: var(--pico-del-color, #d9534f);
    cursor: pointer;
  }

  .empty-state {
    padding: 1rem;
    border: 2px dashed var(--pico-border-color, #ccc);
    border-radius: .6rem;
    text-align: center;
  }
</style>

<div class="filter-bar">
  <input id="user-filter" type="search" placeholder="Filter users" oninput="filterUsers(this.value)">
</div>

{% if users.is_empty() %}
<div class="empty-state" role="note">
  <p>No users yet. Add one above to begin.</p>
</div>
{% else %}
<section class="user-list" aria-label="Users">
  {% for uwm in users %}
  {% include "user_item.html" %}
  {% endfor %}
</section>
{% endif %}

<script>
  function filterUsers(q) {
    q = q.toLowerCase().trim();
    for (const art of document.querySelectorAll('section.user-list > article')) {
      const name = art.dataset.username.toLowerCase();
      art.hidden = q && !name.includes(q);
    }
  }
</script>